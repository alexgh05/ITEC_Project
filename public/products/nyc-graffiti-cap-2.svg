<svg width="500" height="400" xmlns="http://www.w3.org/2000/svg">
  <!-- Background -->
  <rect width="100%" height="100%" fill="#f8f8f8" />
  
  <!-- Cap Base - Side View -->
  <path d="M120,200 C120,150 170,120 250,120 C330,120 380,170 380,200 C380,230 330,240 250,240 C170,240 120,230 120,200 Z" fill="#282828" />
  
  <!-- Cap Brim - Side View -->
  <path d="M120,200 L80,205 C70,206 70,215 80,216 L120,220 C170,230 250,240 320,220 L320,200 C250,225 170,225 120,200 Z" fill="#202020" />
  <path d="M80,205 C70,206 70,215 80,216 L120,220 L120,200 L80,205 Z" fill="#181818" />
  
  <!-- Cap Seams and Details -->
  <path d="M120,200 C170,225 250,225 320,200" stroke="#383838" stroke-width="2" fill="none" />
  <path d="M250,120 C250,160 250,200 250,240" stroke="#383838" stroke-width="2" fill="none" />
  <path d="M170,145 C170,175 170,215 170,225" stroke="#383838" stroke-width="2" fill="none" />
  <path d="M330,145 C330,175 330,215 330,225" stroke="#383838" stroke-width="2" fill="none" />
  
  <!-- Adjustment Strap -->
  <path d="M120,220 L120,225 C170,235 250,245 320,225 L320,220 C250,240 170,240 120,220 Z" fill="#343434" />
  <rect x="280" y="222" width="30" height="8" rx="2" fill="#202020" />
  <circle cx="290" cy="226" r="2" fill="#101010" />
  <circle cx="300" cy="226" r="2" fill="#101010" />
  
  <!-- Graffiti Pattern Side Detail -->
  <g transform="translate(240, 180) scale(0.5)">
    <!-- Define Gradients and Filters -->
    <defs>
      <linearGradient id="gradientBgSide" x1="0%" y1="0%" x2="100%" y2="100%">
        <stop offset="0%" stop-color="#ff3333" />
        <stop offset="100%" stop-color="#3333ff" />
      </linearGradient>
      
      <filter id="neonGlowSide" x="-30%" y="-30%" width="160%" height="160%">
        <feGaussianBlur stdDeviation="3" result="blur" />
        <feComposite in="SourceGraphic" in2="blur" operator="over" />
      </filter>
    </defs>
    
    <!-- Background Shape -->
    <ellipse cx="0" cy="0" rx="80" ry="50" fill="url(#gradientBgSide)" opacity="0.7" />
    
    <!-- NYC Skyline Silhouette -->
    <path d="M-80,20 L-70,20 L-70,0 L-60,0 L-60,10 L-50,10 L-50,-10 L-40,-10 L-40,0 L-30,0 L-30,-20 
            L-20,-20 L-20,-30 L-10,-30 L-10,-10 L0,-10 L0,-40 L10,-40 L10,-10 L20,-10 L20,-20 L30,-20 
            L30,-30 L40,-30 L40,-10 L50,-10 L50,0 L60,0 L60,10 L70,10 L70,20 L80,20" 
          fill="#000000" opacity="0.8" />
    
    <!-- Graffiti Elements -->
    <g fill="#ffffff" filter="url(#neonGlowSide)">
      <!-- Tag-like Shapes -->
      <path d="M-60,-15 C-50,-25 -40,-15 -30,-25 C-20,-15 -10,-25 0,-15 C10,-25 20,-15 30,-25 C40,-15 50,-25 60,-15" 
            stroke="#ffffff" stroke-width="2" fill="none" />
      <path d="M-50,5 C-40,-5 -30,5 -20,-5 C-10,5 0,-5 10,5 C20,-5 30,5 40,-5" 
            stroke="#ffffff" stroke-width="2" fill="none" />
      
      <!-- NY Abbreviation -->
      <path d="M-25,0 L-25,15 L-20,15 L-15,5 L-15,15 L-10,15 L-10,0 Z" />
      <path d="M-5,0 L0,10 L5,0 L10,0 L0,15 L-5,15 L-15,0 Z" />
    </g>
    
    <!-- Stars/Sparkles -->
    <g fill="#ffcc00" filter="url(#neonGlowSide)">
      <path d="M-65,-5 L-62,-8 L-60,-5 L-62,-2 Z" />
      <path d="M65,-10 L68,-13 L70,-10 L68,-7 Z" />
      <path d="M-40,15 L-37,12 L-35,15 L-37,18 Z" />
      <path d="M40,10 L43,7 L45,10 L43,13 Z" />
    </g>
    
    <!-- Graffiti Splatters -->
    <g fill="#ff3333" opacity="0.6">
      <circle cx="-55" cy="10" r="3" />
      <circle cx="-51" cy="8" r="1.5" />
      <circle cx="-57" cy="6" r="2" />
      
      <circle cx="55" cy="-5" r="3" />
      <circle cx="58" cy="-3" r="1.5" />
      <circle cx="53" cy="-1" r="2" />
    </g>
    
    <g fill="#3333ff" opacity="0.6">
      <circle cx="-5" cy="-15" r="3" />
      <circle cx="-1" cy="-13" r="1.5" />
      <circle cx="-7" cy="-11" r="2" />
      
      <circle cx="25" cy="10" r="3" />
      <circle cx="28" cy="8" r="1.5" />
      <circle cx="23" cy="6" r="2" />
    </g>
  </g>
  
  <!-- Eyelets/Ventilation -->
  <g fill="none" stroke="#444444" stroke-width="1.5">
    <circle cx="200" cy="170" r="3" />
    <circle cx="230" cy="155" r="3" />
    <circle cx="260" cy="155" r="3" />
    <circle cx="290" cy="170" r="3" />
  </g>
  
  <!-- Brand Tag -->
  <g transform="translate(200, 190)">
    <rect x="-30" y="-8" width="60" height="16" rx="4" ry="4" fill="#fcfcfc" opacity="0.7" />
    <text x="0" y="4" font-family="Arial, sans-serif" font-size="8" font-weight="bold" text-anchor="middle" fill="#282828">NYC STYLE</text>
  </g>
</svg> 